# Story 03.01: Operations List & Card Components

## Status
Ready for Development

## Story
**As a** Google Slides API developer,
**I want** to see and manage batchUpdate operations in an interactive list with drag-and-drop functionality,
**so that** I can easily organize, reorder, and visualize my API operations with an intuitive glass-morphic interface.

## Acceptance Criteria
1. Glass-morphic operation cards display with proper background (`rgba(26, 26, 46, 0.85)`), blur effects, and operation-type color coding
2. Drag-and-drop functionality allows reordering with smooth animations and trail effects
3. Hover states show glow intensification with 4px elevation effect
4. Operation types are color-coded (create=green, update=cyan, delete=pink, transform=purple, text=amber)
5. Floating add button includes pulse animation and gradient effects
6. Entry animations work with slide from left (300ms fade)
7. All interactions maintain 60 FPS performance
8. Component follows existing glass-morphic design patterns from Epic 1 & 2

## Tasks / Subtasks
- [ ] Create OperationCard component (AC: 1, 4)
  - [ ] Extend existing GlassPanel component for base styling
  - [ ] Add operation type prop with color mapping logic
  - [ ] Implement operation data display (title, type icon, preview)
  - [ ] Add validation state indicators (error/success)
- [ ] Implement OperationsList container (AC: 1, 6)
  - [ ] Create scrollable container with glass-morphic styling
  - [ ] Add entry animations using Framer Motion or CSS
  - [ ] Implement virtual scrolling for large lists (50+ operations)
- [ ] Add drag-and-drop functionality (AC: 2, 3)
  - [ ] Integrate @dnd-kit/sortable for accessible DnD
  - [ ] Create custom drag overlay with trail effect
  - [ ] Add drop zone indicators with neon glow
  - [ ] Implement reorder logic with store updates
- [ ] Create FloatingAddButton component (AC: 5)
  - [ ] Design gradient button with pulse animation
  - [ ] Position as fixed overlay in operations panel
  - [ ] Add click handler to open operation type selector
- [ ] Add hover and interaction states (AC: 3, 7)
  - [ ] Implement hover glow with CSS transitions
  - [ ] Add 4px elevation on hover using transform
  - [ ] Ensure GPU acceleration with will-change property
- [ ] Write unit tests (AC: 7, 8)
  - [ ] Test OperationCard rendering with different types
  - [ ] Test drag-and-drop reordering logic
  - [ ] Test animation performance metrics
- [ ] Write component tests with RTL (AC: 7, 8)
  - [ ] Test keyboard navigation for accessibility
  - [ ] Test drag-and-drop interactions
  - [ ] Test responsive behavior

## Dev Notes

### Previous Story Insights
Stories from Epic 1 & 2 have established the glass-morphic design system with GlassPanel component, neon color tokens, and animation patterns. The visual element builder uses similar card-based UI that can be referenced.

### Component Specifications
Based on existing components [Source: architecture/components.md]:
- BatchUpdateEditor component manages the left panel with operation editing
- Use Zustand store for state management (batchUpdateStore.ts)
- Components should emit changes via onBatchUpdateChange interface

### File Locations
Based on project structure [Source: architecture/unified-project-structure.md]:
- New components: `src/components/editor/operations/`
  - `OperationCard.tsx`
  - `OperationsList.tsx`
  - `FloatingAddButton.tsx`
- Store updates: `src/stores/batchUpdateStore.ts`
- Types: `src/types/googleSlides.ts` (extend with operation types)
- Tests: `tests/components/editor/operations/`

### Technical Stack & Patterns
[Source: architecture/tech-stack.md]:
- React 18 with TypeScript 5.9.2
- shadcn/ui components with Tailwind CSS 4.1
- Zustand 5.0.8 for state management
- Bun Test for unit testing
- React Testing Library for component tests

### Design System Extensions
From Epic 3 requirements:
```css
--operation-create: #06ffa5;     /* Electric green */
--operation-update: #22d3ee;     /* Cyan */
--operation-delete: #ec4899;     /* Hot pink */
--operation-transform: #a855f7;  /* Purple */
--operation-text: #fbbf24;       /* Amber */
--drag-active: rgba(168, 85, 247, 0.6);
--drop-zone: rgba(6, 255, 165, 0.3);
```

### Animation Requirements
- Use CSS transitions for hover states (200ms ease-out)
- Panel slide animations (300ms cubic-bezier)
- GPU acceleration with transform and will-change
- Respect prefers-reduced-motion for accessibility

### Testing Standards
[Source: architecture/testing-strategy.md]:
- Unit tests in `tests/unit/` using Bun Test
- Component tests in `tests/components/` using React Testing Library
- Test files follow pattern: `{ComponentName}.test.tsx`
- Ensure 60 FPS performance using performance.now() measurements
- Test accessibility with jest-axe matchers

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-02 | 1.0 | Initial story creation from Epic 3 | Bob (SM) |

## Dev Agent Record

### Agent Model Used
_To be populated by development agent_

### Debug Log References
_To be populated by development agent_

### Completion Notes List
_To be populated by development agent_

### File List
_To be populated by development agent_

## QA Results
_To be populated by QA agent_